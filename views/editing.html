<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv="refresh" content="55"> -->

    <title>Редактирование записи</title>

    <!-- <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600&display=swap" rel="stylesheet"> -->
    
    <link rel="stylesheet" type="text/css" href="css/footer.css"/>
    <link rel="stylesheet" type="text/css" href="css/sidebar.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/header.css"/>
    <link rel="stylesheet" type="text/css" href="css/toolbar.css">
    <link rel="stylesheet" type="text/css" href="css/editing.css">
    <link rel="stylesheet" type="text/css" href="css/popup.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header_inner">
                <div class="header_info">
                    <a href="/" class="header_logo"><img src="res/images/main/rainbow.png" alt="Logo" width="80%" height="auto"></a>
                    <a href="#">Система учета исполнения приказов кафедры ИС УГЛТУ</a>
                </div>

                <nav class="header_nav">
                    <form action="#" class="header_search_box">
                        <input type="text" id="search_input" name="search_input">
                        <input type="submit" value="Поиск">
                    </form>
                    
                    <div id="headerUser" class="header_user">
                        <a href="/account" id="headerUserUsername" class="header_user_username">▼ Иванов И. И</a>
                        <a href="/logout" class="header_user_logout"> - Выйти</a>
                    </div>
                </nav>

            </div>
        </div>
    </header>

    <div class="toolbar">
        <div class="container">
            <div class="toolbar_inner">
                <div class="toolbar_new_decision">
                    <button class="toolbar_button">?</button>
                </div>
                <div class="toolbar_edit">
                    <form method='POST' id="updateDocument">
                        <!-- <button id="doneBtn" class="toolbar_button" formaction="/updateDocument">Готово</button> -->
                        <input type="button" id="doneBtn" class="toolbar_button" value="Готово">
                    </form>
                </div>

            </div>
        </div>
    </div>

    <div id="everything">

        <div id="left_sidebar">
            <nav role="navigation" class="sidebar_navigation">
                <ol class="left_sidebar_list">
                    <li class="sidebar_caption"><img src="res/images/main/home.png" style="padding-right: 16px;" alt="Главная" width="9%" height="auto"><a href="/">Главная</a></li>
                </ol>
            </nav>
        </div>

        <div id="content">

            <section id="editing_section">

                <div class="general">
                    <div class="container">
                        <div class="general_inner">
                            <p>▼ Заголовок и содержание</p>
                            <br>
                            <form method='POST' action="/updateDocumentDraft" id="updateDocument" class="general_wrapper">

                                <div class="general_field">
                                    <label for="category" class="general_label">Категория документа:</label>
                                    <select id="category">
                                        <option value="Приказ">Приказ</option>
                                        <option value="Служебная записка">Служебная записка</option>
                                    </select>
                                </div>

                                <div class="general_field">
                                    <label for="kind" class="general_label">Вид документа:</label>
                                    <select id="kind">
                                        <option value="На практику">На практику</option>
                                        <option value="Утверждение тем ВКР">Утверждение тем ВКР</option>
                                        <option value="Другой">Другой</option>
                                      </select>
                                </div><br><hr>

                                <div class="general_field">
                                    <label for="number" class="general_label">Номер документа:</label>
                                    <input type="text" id="number" class="general_text_input" placeholder="Введите номер документа" name="number" required>
                                </div>
                                <div class="general_field">
                                    <label for="date" class="general_label">Дата:</label>
                                    <input type="text" id="date" class="general_text_input" placeholder="Введите дату" name="date" value="1999-12-31" required>
                                </div>
                                <div class="general_field">
                                    <label for="performer" class="general_label">Исполнитель:</label>
                                    <input type="text" id="performer" class="general_text_input" placeholder="Введите исполнителя" name="performer" required>
                                </div>
                                <div class="general_field">
                                    <label for="accessStamp" class="general_label">Статус:</label>
                                    <!-- <input type="text" id="accessStamp" class="general_text_input" placeholder="Введите ограничения" name="accessStamp" required> -->
                                    <select id="status">
                                        <option value="Проект">Проект</option>
                                        <option value="Не начато">Не начато</option>
                                        <option value="Не обработан">Не обработано</option>
                                        <option value="Не подписано">Не подписано</option>
                                        <option value="Подписан">Подписан</option>
                                        <option value="Издан">Издан</option>
                                        <option value="Исполнен">Исполнен</option>
                                      </select>
                                </div>

                                <br><hr>
                                <div class="general_field">
                                    <label for="head" class="general_label">Заголовок:</label>
                                    <!-- <input type="text" id="head" class="general_text_input" placeholder="Введите номер документа" name="head" required> -->
                                    <textarea form="updateDocument" name="head" id="head" class="general_text_input area_input" rows="2" wrap="soft" placeholder="Введите заголовок" required></textarea>
                                </div>
                                <div class="general_field">
                                    <label for="basis" class="general_label">Основание:</label>
                                    <textarea form="updateDocument" name="basis" id="basis" class="general_text_input area_input" rows="5" wrap="soft" placeholder="Введите основание издания приказа" required></textarea>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Clauses -->
                <div class="clauses">
                    <div class="container">
                        <div class="clauses_inner">
                            <p>▼ Пункты</p>
                            <br>
                            <div class="clauses_wrapper">
                                <div class="clauses_control">
                                    <div class="clauses_selection">
                                        <!-- <button class="toolbar_button">Все записи</button>
                                        <button class="toolbar_button">Мои записи</button> -->
                                    </div>
                                    <div class="clauses_edit">
                                        <button id="addClauseBtn">Создать</button>
                                    </div>
                                </div>
                            </div>
                            <table id="clausesList">
                                <thead>
                                    <th style="width: 5%">№</th>
                                    <th style="width: 85%">Пункт</th>
                                    <th style="width: 10%">Статус</th>
                                    <!-- <th style="width: 10%">Завершение</th> -->
                                    <!-- <th style="width: 20%">Дата изменения</th> -->
                                </thead>
                                <tbody id="clausesListAll">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Files -->
                <div class="files">
                    <div class="container">
                        <div class="files_inner">
                            <p>▼ Файлы</p>
                            <br>
                            <div class="files_wrapper">
                                <div class="files_control">
                                    <div class="files_selection">
                                        <!-- <button class="toolbar_button">Все записи</button>
                                        <button class="toolbar_button">Мои записи</button> -->
                                    </div>
                                    <div class="files_edit">
                                        <button id="addFileBtn">Добавить</button>
                                    </div>
                                </div>
                            </div>
                            <table id="filesList">
                                <thead>
                                    <th style="width: 100%">Название</th>
                                </thead>
                                <tbody id="filesListAll">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Approvers -->
                <div class="approvers">
                    <div class="container">
                        <div class="generic_inner">
                            <p>▼ Согласующие</p>
                            <br>
                            <div class="approvers_wrapper">
                                <div class="approvers_control">
                                    <div class="approvers_selection">
                                        <!-- <button class="toolbar_button">Все записи</button>
                                        <button class="toolbar_button">Мои записи</button> -->
                                    </div>
                                    <div class="approvers_edit">
                                        <button id="addApproverBtn">Добавить</button>
                                    </div>
                                </div>
                            </div>
                            <table id="approversList">
                                <thead>
                                    <th style="width: 10%">№</th>
                                    <th style="width: 35%">ФИО</th>
                                    <th style="width: 40%">Должность</th>
                                    <th style="width: 15%">Статус</th>
                                </thead>
                                <tbody id="approverListsAll">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Owners -->
                <div class="owners">
                    <div class="container">
                        <div class="owners_inner">
                            <p>▼ Владельцы</p>
                            <br>
                            <div class="owners_wrapper">
                                <div class="owners_control">
                                    <div class="owners_selection">
                                        <!-- <button class="toolbar_button">Все записи</button>
                                        <button class="toolbar_button">Мои записи</button> -->
                                    </div>
                                    <div class="owners_edit">
                                        <button id="addOwnerBtn">Добавить</button>
                                    </div>
                                </div>
                            </div>
                            <table id="ownersList">
                                <thead>
                                    <th style="width: 25%">ФИО</th>
                                    <th style="width: 30%">E-mail</th>
                                    <th style="width: 45%">Должность</th>
                                </thead>
                                <tbody id="ownerListsAll">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
            
        </div>
    </div>

    <!-- Add Clause Window -->
    <div id="mAddClausePopup" class="popup_addclause">
        <div class="popup_addclause_inner">
            <span class="popup_btn_close" title="Close">&times;</span>
            <div class="popup_addclause_wrapper">

                <form class="popup_wrapper" id="newClauseForm" action="#">
                    <h1>Новый пункт</h1>
                    <p>Введите необходимые данные</p>
                    <hr>
    
                    <div class="popup_addclause_body" style="display: block;">
                        <label for="clause_body" class="popup_label"><b>Распоряжение</b><br></label>
                        <textarea form="newClauseForm" name="clause_body" id="clause_body" class="general_text_input popup_area_input" rows="5" wrap="soft" placeholder="Введите распорядительную часть" required></textarea>
                    </div>
    
                    <div class="popup_addclause_performers">
                        <label for="performers" class="popup_label"><b>Исполнители</b><br></label>
                        <input type="text" id="performers" class="popup_text_input" placeholder="Введите исполнителей через запятую" name="performers">
                    </div>

                    <div class="popup_addclause_status">
                        <label for="clause_status" class="popup_label"><b>Статус</b><br></label>
                        <select id="clause_status" style="margin: 5px 0 0 0;">
                            <option value="Исполнение">Исполнение</option>
                            <option value="Завершено">Завершено</option>
                        </select>
                    </div>
                    <br>
                    <div hidden class="popup_addclause_expirationdate">
                        <label for="expirationdate" class="popup_label"><b>Срок исполнения</b><br></label>
                        <input type="text" id="expirationdate" class="popup_text_input" placeholder="Введите срок окончания" name="expirationdate" value="1999-12-31">
                    </div>
    
                    <div class="popup_btn_confirmation">
                        <button type="button" class="popup_btn_cancel">Отмена</button>
                        <button type="button" id="finishClauseBtn" class="popup_btn_submit">Создать</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add File Window -->
    <div id="mAddFilePopup" class="popup_addfile">
        <div class="popup_addfile_inner">
            <span class="popup_btn_close" title="Close">&times;</span>
            <div class="popup_addfile_wrapper">
                <h2>Добавить файл</h2><br><hr><br>

                <div class="popup_addfile_controls" style="display: flex;justify-content: space-between;">
                    <form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
                        <input type="file" name="document_order">
                    </form>
    
                    <button id="submitFileBtn">Готово</button>
                </div>
                <!-- <label for="file-input">
                    <div class="input-label">Выбрать файл</div>
                </label>
                <input type="file" id="file-input"> -->
            </div>
        </div>
    </div>

    <!-- Add Approver Window -->
    <div id="mAddApproverPopup" class="popup_addapprover">
        <div class="popup_addapprover_inner">
            <span class="popup_btn_close" title="Close">&times;</span>
            <div class="popup_addapprover_wrapper">

                <form class="popup_wrapper" id="newApproverForm" action="#">
                    <h1>Согласующий</h1>
                    <p>Введите необходимые данные</p>
                    <hr>

                    <div class="popup_addapprover_performers">
                        <label for="approver_fullname" class="popup_label"><b>ФИО согласующего</b><br></label>
                        <input type="text" id="approver_fullname" class="popup_text_input" placeholder="Введите ФИО согласующего" name="Fullname">
                    </div>
    
                    <div class="popup_addapprover_performers">
                        <label for="approver_position" class="popup_label"><b>Должность</b><br></label>
                        <input type="text" id="approver_position" class="popup_text_input" placeholder="Введите должность согласующего" name="Position">
                    </div>

                    <div class="popup_addapprover_status">
                        <label for="approver_status" class="popup_label"><b>Статус</b><br></label>
                        <select id="approver_status" style="margin: 5px 0 0 0;">
                            <option value="Не согласовано">Не согласовано</option>
                            <option value="Согласовано">Согласовано</option>
                        </select>
                    </div>
                    <br>
                    <div class="popup_addapprover_expirationdate">
                        <label for="approver_date" class="popup_label"><b>Дата согласования</b><br></label>
                        <input type="text" id="approver_date" class="popup_text_input" placeholder="Введите дату согласования" name="ApproveDate">
                    </div>
    
                    <div class="popup_btn_confirmation">
                        <button type="button" class="popup_btn_cancel">Отмена</button>
                        <button type="button" id="finishApproverBtn" class="popup_btn_submit">Добавить</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Owner Window -->
    <div id="mAddOwnerPopup" class="popup_addowner">
        <div class="popup_addowner_inner">
            <span class="popup_btn_close" title="Close">&times;</span>
            <div class="popup_addowner_wrapper">
                <form class="popup_wrapper" action="/searchUser">
                    <input type="text" id="popupSearchInput" class="popup_search_input" placeholder="Поиск пользователей" name="popupSearchInput">
                </form>
                <table id="popupOwnersList">
                    <thead>
                        <th style="width: 60%">ФИО</th>
                        <th style="width: 40%">Имя пользователя</th>
                    </thead>
                    <tbody id="owners_list_choose">
    
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="footer">
        <div class="container">
            <div class="footer_inner">
                <div class="footer_logo">
                    <a href="/"><img src="res/images/main/logo.png" alt="Logo" width="100%" height="auto"></a>
                </div>
                <div class="footer_nav">
                    <!-- Footer section -->
                </div>
                <div class="footer_copyright">
                    <ul class="footer_extern">
                        <li class="footer_extern_item"><a href="#" class="footer_extern_link">Blog</a></li>
                        <li class="footer_extern_item"><a href="#" class="footer_extern_link">VK</a></li>
                        <li class="footer_extern_item"><a href="#" class="footer_extern_link">Facebook</a></li>
                        <li class="footer_extern_item"><a href="#" class="footer_extern_link">Reddit</a></li>
                        <li class="footer_extern_item"><a href="#" class="footer_extern_link">Youtube</a></li>
                    </ul>
                    <ul class="footer_about">
                        <p class="footer_about_elem">Copyright</p>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="js/editing.js"></script>
</html>